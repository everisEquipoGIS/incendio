(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1)})([function(module,exports,__webpack_require__){"use strict";var namespace=function namespace(_namespace){return function(target){var namespaceArray=_namespace.split(".");var constructObject=function constructObject(namespaceArray,obj){if(namespaceArray.length>0){var name=namespaceArray[0];if(!obj[name]){obj[name]={}}constructObject(namespaceArray.splice(1),obj[name])}else{obj[target.name]=target}return obj};var mainPath=namespaceArray[0];if(!window[mainPath]){window[mainPath]={}}constructObject(namespaceArray.splice(1),window[mainPath])}};module.exports=namespace},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _dec,_class;var _decorator=__webpack_require__(0);var _decorator2=_interopRequireDefault(_decorator);var _attributionsControl=__webpack_require__(2);var _attributionsControl2=_interopRequireDefault(_attributionsControl);var _attributions=__webpack_require__(5);var _attributions2=_interopRequireDefault(_attributions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Attributions=(_dec=(0,_decorator2.default)("M.plugin"),_dec(_class=function(_M$Plugin){_inherits(Attributions,_M$Plugin);function Attributions(parameters){_classCallCheck(this,Attributions);var _this=_possibleConstructorReturn(this,(Attributions.__proto__||Object.getPrototypeOf(Attributions)).call(this));parameters=parameters||{};_this.map_=null;_this.controls_=[];_this.params_={};if(!M.utils.isNullOrEmpty(parameters.params)){_this.params_=parameters.params}_this.options_={};if(!M.utils.isNullOrEmpty(parameters.options)){_this.options_=parameters.options}return _this}_createClass(Attributions,[{key:"addTo",value:function addTo(map){var _this2=this;this.map_=map;var ctrol=new M.control.AttributionsControl(this.params_,this.options_);this.controls_.push(ctrol);this.panel_=new M.ui.Panel("attributions",this.getPanelOptions_());this.panel_.on(M.evt.ADDED_TO_MAP,function(html){M.utils.enableTouchScroll(html)});this.panel_.addControls(this.controls_);this.map_.addPanels(this.panel_);ctrol.on(M.evt.ADDED_TO_MAP,function(){_this2.fire(M.evt.ADDED_TO_MAP)})}},{key:"getControls",value:function getControls(){return this.controls_}},{key:"getPanelOptions_",value:function getPanelOptions_(){var opt_={};if(!M.utils.isNullOrEmpty(this.options_.panel))opt_=this.options_.panel;var panelOptions_={collapsible:true,className:"m-attributions"+(!M.utils.isNullOrEmpty(opt_.className)?" "+opt_.className:""),collapsedButtonClass:!M.utils.isNullOrEmpty(opt_.collapsedClass)?opt_.collapsedClass:"g-cartografia-info",position:!M.utils.isNullOrEmpty(opt_.position)?opt_.position:M.ui.position.BR,tooltip:!M.utils.isNullOrEmpty(opt_.tooltip)?opt_.tooltip:"Attributions"};return panelOptions_}},{key:"destroy",value:function destroy(){this.map_.removeControls(this.controls_);this.map_=null;this.controls_=null;this.panel_=null;this.params_=null;this.options_=null;this.name=null}},{key:"equals",value:function equals(plugin){var equals=false;if(plugin instanceof M.plugin.Attributions){equals=true}return equals}}]);return Attributions}(M.Plugin))||_class)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AttributionsControl=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _dec,_class;var _decorator=__webpack_require__(0);var _decorator2=_interopRequireDefault(_decorator);var _attributionsControl=__webpack_require__(3);var _attributionsControl2=_interopRequireDefault(_attributionsControl);var _parametersAttributions=__webpack_require__(4);var _parametersAttributions2=_interopRequireDefault(_parametersAttributions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AttributionsControl=exports.AttributionsControl=(_dec=(0,_decorator2.default)("M.control"),_dec(_class=function(_M$Control){_inherits(AttributionsControl,_M$Control);_createClass(AttributionsControl,null,[{key:"NAME",get:function get(){return"attributions"}},{key:"TEMPLATE",get:function get(){return"attributions.html"}}]);function AttributionsControl(params,options){_classCallCheck(this,AttributionsControl);if(M.utils.isUndefined(M.impl.control.AttributionsControl)){M.exception("La implementación usada no puede crear controles PluginControl")}var impl=new M.impl.control.AttributionsControl;var _this=_possibleConstructorReturn(this,(AttributionsControl.__proto__||Object.getPrototypeOf(AttributionsControl)).call(this,impl,"Attributions"));_this.TYPES_REQUIRED=[M.layer.type.OSM,M.layer.type.Mapbox];_this.REQUIRE_ATTRIBUTIONS=[];_this.REQUIRE_ATTRIBUTIONS[M.layer.type.OSM]=[{type:"HTML",desc:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}];_this.REQUIRE_ATTRIBUTIONS[M.layer.type.Mapbox]=[{type:"HTML",desc:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>'}];_this.params_=params||{};_this.options_=options||{};_this.attributions_=[];_this.attributionsRequired_=[];_this.includeRequired_=true;if(!M.utils.isNullOrEmpty(_this.params_.includeRequired))_this.includeRequired_=_this.params_.includeRequired;return _this}_createClass(AttributionsControl,[{key:"createView",value:function createView(map){this.facadeMap_=map;return M.template.compile(AttributionsControl.TEMPLATE,{vars:{attributions:this.getDataAttributions()}})}},{key:"getDataAttributions",value:function getDataAttributions(){this.attributions_=this.getParamsAttributions();this.attributionsRequired_=this.getAttributionsRequired();var dataAttributions=this.attributions_.concat(this.attributionsRequired_);return dataAttributions}},{key:"getParamsAttributions",value:function getParamsAttributions(){var result=[];var attributionsParams=this.params_.attributions;if(!M.utils.isNullOrEmpty(attributionsParams)){if(!M.utils.isArray(attributionsParams)){attributionsParams=[attributionsParams]}result=attributionsParams.map(function(param){if(!M.utils.isArray(param)){param=[param]}return _parametersAttributions2.default.checkParameters(param)})}return result}},{key:"getAttributionsRequired",value:function getAttributionsRequired(){var _this2=this;var result=[];if(this.includeRequired_){var lstLayers=this.facadeMap_.getBaseLayers().concat(this.facadeMap_.getLayers());this.TYPES_REQUIRED.forEach(function(itemType,index){var lstResult=lstLayers.filter(function(obj){return itemType==obj.type});if(!M.utils.isNullOrEmpty(lstResult)&&lstResult.length>0){result.push(_this2.REQUIRE_ATTRIBUTIONS[itemType])}})}return result}}]);return AttributionsControl}(M.Control))||_class)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AttributionsControl=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{return get(parent,property,receiver)}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}};var _dec,_class;var _decorator=__webpack_require__(0);var _decorator2=_interopRequireDefault(_decorator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AttributionsControl=exports.AttributionsControl=(_dec=(0,_decorator2.default)("M.impl.control"),_dec(_class=function(_M$impl$Control){_inherits(AttributionsControl,_M$impl$Control);function AttributionsControl(){_classCallCheck(this,AttributionsControl);return _possibleConstructorReturn(this,(AttributionsControl.__proto__||Object.getPrototypeOf(AttributionsControl)).call(this))}_createClass(AttributionsControl,[{key:"addTo",value:function addTo(map,html){_get(AttributionsControl.prototype.__proto__||Object.getPrototypeOf(AttributionsControl.prototype),"addTo",this).call(this,map,html)}}]);return AttributionsControl}(M.impl.Control))||_class)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _decorator=__webpack_require__(0);var _decorator2=_interopRequireDefault(_decorator);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Attributions=function(){function Attributions(){_classCallCheck(this,Attributions)}_createClass(Attributions,null,[{key:"checkParameters",value:function checkParameters(attParameters){var attributions=[];if(M.utils.isNullOrEmpty(attParameters)){attParameters={type:null,text:null,url:null,link:null}}var attParametersArray=attParameters;if(!M.utils.isArray(attParametersArray)){attParametersArray=[attParametersArray]}attributions=attParametersArray.map(function(parameter){var type=void 0,desc=void 0,url=void 0,link=void 0,params=null;if(M.utils.isString(parameter)){if(/^(TXT|HTML|IMG|URL)\*[^\*]+(\*[^\*]+){0,2}?$/i.test(parameter)){params=parameter.split(/\*/);type=params[0];desc=params[1];if(/^(IMG|URL)\*[^\*]+\*[^\*]+(\*[^\*]+)?$/i.test(parameter)){url=params[2].trim();if(params.length>3){link=params[3].trim()}}}}else if(M.utils.isObject(parameter)&&!M.utils.isNullOrEmpty(parameter)){type=!M.utils.isNullOrEmpty(parameter.type)?parameter.type.trim():"";desc=!M.utils.isNullOrEmpty(parameter.desc)?parameter.desc.trim():"";url=!M.utils.isNullOrEmpty(parameter.url)?parameter.url.trim():"";link=!M.utils.isNullOrEmpty(parameter.link)?parameter.url.trim():""}else if(!M.utils.isObject(parameter)){M.exception("El parámetro no es de un tipo soportado: "+(typeof parameter==="undefined"?"undefined":_typeof(parameter)))}var attributionsObj={type:type,desc:desc,url:url,link:link};var valido=true;if(M.utils.isNullOrEmpty(attributionsObj.type)||M.utils.isNullOrEmpty(attributionsObj.desc)||!/^(TXT|HTML|IMG|URL)$/i.test(attributionsObj.type)||/^(IMG|URL)$/i.test(attributionsObj.type)&&(M.utils.isNullOrEmpty(attributionsObj.url)||!M.utils.isUrl(attributionsObj.url))||attributionsObj.type=="IMG"&&!M.utils.isNullOrEmpty(attributionsObj.link)&&!M.utils.isUrl(attributionsObj.link))valido=false;if(!valido)M.exception("El formato del parámetro attributions no es correcto");return attributionsObj});if(!M.utils.isArray(attParameters)){attributions=attributions[0]}return attributions}}]);return Attributions}();exports.default=Attributions},function(module,exports){}]);M.template.add("attributions.html",Handlebars.template({1:function(container,depth0,helpers,partials,data){var stack1;return"        <ul>\r\n"+((stack1=helpers.each.call(depth0!=null?depth0:container.nullContext||{},depth0!=null?depth0.attributions:depth0,{name:"each",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"        </ul>\r\n"},2:function(container,depth0,helpers,partials,data){var stack1;return"            <li>\r\n                "+((stack1=helpers.each.call(depth0!=null?depth0:container.nullContext||{},depth0,{name:"each",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"\r\n            </li>\r\n"},3:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:container.nullContext||{},alias2=helpers.helperMissing;return" "+((stack1=(helpers.eq||depth0&&depth0.eq||alias2).call(alias1,depth0!=null?depth0.type:depth0,"IMG",{name:"eq",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=(helpers.eq||depth0&&depth0.eq||alias2).call(alias1,depth0!=null?depth0.type:depth0,"URL",{name:"eq",hash:{},fn:container.program(9,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=(helpers.eq||depth0&&depth0.eq||alias2).call(alias1,depth0!=null?depth0.type:depth0,"TXT",{name:"eq",hash:{},fn:container.program(11,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=(helpers.eq||depth0&&depth0.eq||alias2).call(alias1,depth0!=null?depth0.type:depth0,"HTML",{name:"eq",hash:{},fn:container.program(13,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "},4:function(container,depth0,helpers,partials,data){var stack1;return" "+((stack1=helpers["if"].call(depth0!=null?depth0:container.nullContext||{},depth0!=null?depth0.link:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(7,data,0),data:data}))!=null?stack1:"")+" "},5:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'\r\n                <a href="'+alias4((helper=(helper=helpers.link||(depth0!=null?depth0.link:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"link",hash:{},data:data}):helper))+'">\r\n                    <img src="'+alias4((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"url",hash:{},data:data}):helper))+'" alt="'+alias4((helper=(helper=helpers.desc||(depth0!=null?depth0.desc:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"desc",hash:{},data:data}):helper))+'" />\r\n                </a>\r\n'},7:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'                <img src="'+alias4((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"url",hash:{},data:data}):helper))+'" alt="'+alias4((helper=(helper=helpers.desc||(depth0!=null?depth0.desc:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"desc",hash:{},data:data}):helper))+'" /> '},9:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'\r\n                <a href="'+alias4((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"url",hash:{},data:data}):helper))+'">\r\n                    '+alias4((helper=(helper=helpers.desc||(depth0!=null?depth0.desc:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"desc",hash:{},data:data}):helper))+"\r\n                </a>\r\n                "},11:function(container,depth0,helpers,partials,data){var helper;return" "+container.escapeExpression((helper=(helper=helpers.desc||(depth0!=null?depth0.desc:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:container.nullContext||{},{name:"desc",hash:{},data:data}):helper))+" "},13:function(container,depth0,helpers,partials,data){var stack1,helper;return" "+((stack1=(helper=(helper=helpers.desc||(depth0!=null?depth0.desc:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:container.nullContext||{},{name:"desc",hash:{},data:data}):helper))!=null?stack1:"")+" "},15:function(container,depth0,helpers,partials,data){return"        <span>No existen atribuciones</span>\r\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div class="m-control m-attributions-container">\r\n    <div class="title">Atribuciones del mapa</div>\r\n    <div class="ol-attribution m-attributions-container-list">\r\n'+((stack1=(helpers.gt||depth0&&depth0.gt||helpers.helperMissing).call(depth0!=null?depth0:container.nullContext||{},(stack1=depth0!=null?depth0.attributions:depth0)!=null?stack1.length:stack1,0,{name:"gt",hash:{},fn:container.program(1,data,0),inverse:container.program(15,data,0),data:data}))!=null?stack1:"")+"    </div>\r\n</div>"},useData:true}));